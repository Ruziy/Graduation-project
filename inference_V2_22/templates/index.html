<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏</title>
    <link rel="stylesheet" href="static\styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="container">
        <form method="post" action="/run-mode-ui">
            <!-- –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ -->
            <label for="mode"><span class="material-icons icon">tune</span>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:</label>
            <select name="mode" id="mode" onchange="toggleCalibrationFields()">
                <option value="1">üîß –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞</option>
                <option value="2">üß† –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</option>
            </select>

            <!-- –ü–æ–ª—è –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ -->
            <div id="calibration-fields">
                <label for="fps_threshold">FPS –ø–æ—Ä–æ–≥:</label>
                <input type="number" name="fps_threshold" id="fps_threshold" step="0.1" value="10.0">

                <label for="cpu_threshold">CPU –ø–æ—Ä–æ–≥ (%):</label>
                <input type="number" name="cpu_threshold" id="cpu_threshold" step="0.1" value="50.0">
            </div>

            <button type="submit" style="margin-bottom: 20px;">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
        </form>

        <script>
        function toggleCalibrationFields() {
            const mode = document.getElementById("mode").value;
            const calibFields = document.getElementById("calibration-fields");
            calibFields.style.display = (mode === "1") ? "block" : "none";
        }
        window.onload = toggleCalibrationFields;
        </script>


        <form method="post" action="/select-model-ui">
            <label for="model_name"><span class="material-icons icon">model_training</span>–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:</label>
                <select name="model_name" id="model_name">
                    <option value="yolov8">YOLOv8</option>
                    <option value="dlib">Dlib</option>
                    <option value="mtcnn">MTCNN</option>
                    <option value="insightface">InsightFace</option>
                    <option value="retinaface">RetinaFace</option>
                    <option value="mediapipe">MediaPipe</option>
                    <option value="haarcascade">Haar Cascade</option>
                    <option value="ssd">SSD</option>
                </select>
            <button type="submit">‚úÖ –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å</button>
        </form>

        {% if result %}
        <div class="result">
            <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong><br>
            {{ result }}
        </div>
        {% endif %}

        {% if current_model %}
        <p>üîò –¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å: <strong>{{ current_model }}</strong></p>
        {% endif %}
        
    </div>
</body>
</html>
